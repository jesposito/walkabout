{"id":"walkabout-2ik","title":"Add mobile hamburger menu","description":"On small screens the nav items wrap awkwardly. Should collapse into a hamburger menu on mobile.","status":"open","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T14:42:54.901072057+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T14:42:54.901072057+13:00","labels":["enhancement"]}
{"id":"walkabout-4d8","title":"Implement Seats.aero award availability integration","description":"**From README:**\n\u003e Award Monitor - Tracks points availability via Seats.aero for partner programs\n\nThis feature is documented in the README but NOT implemented in code.\n\n**Required:**\n1. Add Seats.aero API client\n2. Create award availability model\n3. Add scheduled polling for tracked routes\n4. Display award availability in UI\n5. Alert when award seats become available\n\n**API:** https://seats.aero - requires Pro subscription (0/mo)\n\n**Notes:**\n- Tracks: United, Aeroplan, Qantas FF, Velocity\n- Does NOT track Airpoints directly, but partner programs can book Air NZ metal","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:50.917897753+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:24:50.917897753+13:00","labels":["feature"],"dependencies":[{"issue_id":"walkabout-4d8","depends_on_id":"walkabout-nn6.8","type":"parent-child","created_at":"2026-01-30T09:19:03.553940797+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-5a6","title":"Redesign Trip Planner UI","description":"Redesign Trip Planner page (trips.html) to improve deal cards, search results, and overall layout. Implement destination type emoji mapping and collapsible forms.","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T10:21:00.181070127+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T10:21:06.046034373+13:00","closed_at":"2026-01-23T10:21:06.046034373+13:00","close_reason":"Closed","labels":["enhancement"]}
{"id":"walkabout-5fq","title":"UX Unification: Light mode + consistent styling across all pages","description":"Light/dark mode only works on deals.html - other pages (trips, prices, settings, status) are dark-only hardcoded. Need to add dark: prefixes throughout. Also inconsistent styling patterns - card borders, button styles, header heights, form inputs vary between pages.","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-26T09:14:55.236817054+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:59.624118145+13:00","closed_at":"2026-02-06T12:08:59.624118145+13:00","close_reason":"Superseded by walkabout-awa.5 (Design System and Frontend Foundation).","labels":["ux"],"dependencies":[{"issue_id":"walkabout-5fq","depends_on_id":"walkabout-nn6.6","type":"parent-child","created_at":"2026-01-30T09:19:00.055301654+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-5z7","title":"Redesign Trip Planner UI to show Unified Best Flights","status":"in_progress","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T10:32:47.445600386+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T10:33:01.695075896+13:00","dependencies":[{"issue_id":"walkabout-5z7","depends_on_id":"walkabout-nn6.6","type":"parent-child","created_at":"2026-01-30T09:18:59.906343755+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl","title":"Robust Scraping Infrastructure","description":"Make scraping resilient with multiple fallback strategies and graceful degradation. Users should get value from the app without requiring API keys.\n\n## Vision\nEven when Google Flights changes their layout or rate limits aggressively, the scraper should continue working. 20+ fallback strategies with validation ensure data extraction succeeds.\n\n## Principles\n1. **Graceful degradation** - Always extract what's possible, never fail completely\n2. **Multiple extraction paths** - 20+ CSS selectors per data point\n3. **Validation at every step** - Verify extracted data makes sense\n4. **API keys optional** - Core value works without paid APIs\n5. **Self-healing** - Detect and adapt to layout changes\n\n## Acceptance Criteria\n- [ ] 20+ fallback selectors for price extraction\n- [ ] 10+ fallback selectors for airline, stops, duration\n- [ ] Validation rules reject obviously wrong data\n- [ ] Graceful degradation logs what failed and continues\n- [ ] Works reliably without any API keys configured\n- [ ] Auto-detection of layout changes with alerts\n- [ ] Documentation of all fallback strategies","status":"in_progress","priority":1,"issue_type":"epic","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:05.053663882+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T10:22:35.576895323+13:00"}
{"id":"walkabout-6kl.1","title":"Multi-Fallback Price Extraction","description":"Implement 20+ CSS selector fallbacks for extracting prices from Google Flights.\n\n## Acceptance Criteria\n- [ ] Primary selector tries first (current implementation)\n- [ ] 20+ fallback selectors in priority order\n- [ ] Each selector has validation (price \u003e 0, reasonable range)\n- [ ] Logging shows which selector succeeded\n- [ ] Tests with saved HTML snapshots\n\n## Strategy\n1. Try exact selectors first (fastest)\n2. Fall back to class-based patterns\n3. Fall back to ARIA/accessibility attributes\n4. Fall back to text pattern matching\n5. Fall back to DOM structure patterns","status":"closed","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:25.323309248+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T10:26:39.222368971+13:00","closed_at":"2026-01-30T10:26:39.222368971+13:00","close_reason":"Implemented 21 price extraction strategies with validation. See extractors.py PriceExtractor class.","dependencies":[{"issue_id":"walkabout-6kl.1","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:25.324909898+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl.2","title":"Multi-Fallback Flight Details Extraction","description":"Implement 10+ fallback strategies for extracting airline, stops, and duration.\n\n## Acceptance Criteria\n- [ ] Airline extraction with 10+ fallbacks\n- [ ] Stops count extraction with 10+ fallbacks\n- [ ] Duration extraction with 10+ fallbacks\n- [ ] Validation (airline in known list, stops 0-4, duration reasonable)\n- [ ] Graceful degradation (partial data OK)\n\n## Currently Hardcoded\nLines 395-397 in google_flights.py currently return:\n- airline: 'Unknown'\n- stops: 0\n- duration: 0\n\nThis feature implements proper extraction.","status":"closed","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:25.39349533+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T10:26:39.251033059+13:00","closed_at":"2026-01-30T10:26:39.251033059+13:00","close_reason":"Implemented 10+ fallback strategies each for airline, stops, duration. See extractors.py FlightDetailsExtractor class.","dependencies":[{"issue_id":"walkabout-6kl.2","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:25.394499282+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl.3","title":"Data Validation Framework","description":"Implement validation rules to detect and reject obviously wrong data.\n\n## Acceptance Criteria\n- [ ] Price validation (min/max bounds, currency detection)\n- [ ] Airline validation (known airline codes/names)\n- [ ] Route validation (valid airport codes)\n- [ ] Date validation (not in past, reasonable future)\n- [ ] Stops validation (0-4 range, consistent with duration)\n- [ ] Duration validation (reasonable for route distance)\n- [ ] Validation results logged for debugging\n\n## Rules Examples\n- Price:  \u003c price \u003c ,000\n- Duration: 30 min \u003c duration \u003c 48 hours\n- Stops: 0-4 for any route\n- Airline: Matches known airline database or reasonable pattern","status":"closed","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:25.47028961+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T10:26:39.279810062+13:00","closed_at":"2026-01-30T10:26:39.279810062+13:00","close_reason":"Implemented validation framework with PriceValidator, AirlineValidator, StopsValidator, DurationValidator. All extracted data validated before use.","dependencies":[{"issue_id":"walkabout-6kl.3","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:25.471311286+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl.4","title":"Graceful Degradation System","description":"Implement graceful degradation that extracts partial data rather than failing completely.\n\n## Acceptance Criteria\n- [ ] Partial extraction succeeds (got price but not airline = OK)\n- [ ] Confidence scores for extracted data\n- [ ] Clear logging of what succeeded/failed\n- [ ] UI shows confidence level for each data point\n- [ ] Never fail silently - always log what went wrong\n\n## Degradation Levels\n1. Full data extracted (all fields)\n2. Core data only (price, route, dates)\n3. Price only (minimum viable)\n4. Failure (no usable data)","status":"closed","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:25.556663681+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:59.658042856+13:00","closed_at":"2026-02-06T12:08:59.658042856+13:00","close_reason":"Superseded by walkabout-awa.1 and walkabout-awa.3 (Price Extraction + Anomaly Guard).","dependencies":[{"issue_id":"walkabout-6kl.4","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:25.557646824+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-6kl.4","depends_on_id":"walkabout-6kl.1","type":"blocks","created_at":"2026-01-30T09:27:51.738668096+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-6kl.4","depends_on_id":"walkabout-6kl.3","type":"blocks","created_at":"2026-01-30T09:27:51.776141246+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl.5","title":"Layout Change Detection","description":"Detect when Google Flights layout changes and alert for investigation.\n\n## Acceptance Criteria\n- [ ] Track selector success rates over time\n- [ ] Alert when success rate drops significantly\n- [ ] Capture HTML snapshots on failures for debugging\n- [ ] Compare new snapshots to known-good patterns\n- [ ] Dashboard shows selector health metrics\n\n## Detection Strategies\n1. Monitor which fallback level is being used\n2. Track extraction failure patterns\n3. Compare page structure to saved templates\n4. Alert when primary selectors fail consistently","status":"closed","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:41.861383716+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:59.692414129+13:00","closed_at":"2026-02-06T12:08:59.692414129+13:00","close_reason":"Superseded by walkabout-awa.1 (Fix Price Extraction includes layout detection).","dependencies":[{"issue_id":"walkabout-6kl.5","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:41.862512436+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-6kl.5","depends_on_id":"walkabout-6kl.1","type":"blocks","created_at":"2026-01-30T09:27:51.80984762+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-6kl.6","title":"API-Free Core Value","description":"Ensure the app provides full value without requiring any API keys.\n\n## Acceptance Criteria\n- [ ] RSS deal aggregation works without APIs\n- [ ] Google Flights scraping works without APIs\n- [ ] Price analysis works without APIs\n- [ ] Notifications work with self-hosted ntfy\n- [ ] Clear docs on what APIs add vs core functionality\n\n## Optional API Enhancements\n- SerpAPI: Faster, more reliable price data\n- Anthropic: AI-powered deal parsing\n- Seats.aero: Award tracking (Phase 2)\n\nCore functionality MUST work without any of these.","status":"closed","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:27:41.939941506+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:59.726049138+13:00","closed_at":"2026-02-06T12:08:59.726049138+13:00","close_reason":"Superseded by walkabout-awa.2 (Fix URL Construction ensures API-free core works correctly).","dependencies":[{"issue_id":"walkabout-6kl.6","depends_on_id":"walkabout-6kl","type":"parent-child","created_at":"2026-01-30T09:27:41.941106646+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-7hf","title":"Add price history charts to UI","description":"PriceChart component exists in React frontend but SSR templates lack price visualization. Add: 1. Historical price charts per route 2. Price trend indicators 3. Best time to book insights. Could use Chart.js or lightweight SVG charts.","status":"open","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:25:19.176965741+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:25:19.176965741+13:00","labels":["feature"]}
{"id":"walkabout-8l9","title":"Add HTMX for dynamic UI updates","description":"Current SSR templates require full page reload for updates. Add HTMX for: 1. Live deal feed updates 2. Inline trip plan actions 3. Real-time scrape status 4. Filter changes without reload. This avoids maintaining a separate React frontend.","status":"open","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:25:13.507709258+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:25:13.507709258+13:00","labels":["enhancement"]}
{"id":"walkabout-8o9","title":"Create Unraid template for Community Applications","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-30T11:32:34.398154929+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T11:32:45.916666594+13:00","closed_at":"2026-01-30T11:32:45.916666594+13:00","close_reason":"## Unraid Template Created\n\nCreated XML template for Unraid Community Applications store.\n\n### Files Created:\n- `unraid/walkabout.xml` - Complete template with all config options\n- `assets/README.md` - Icon requirements documentation\n\n### Template Features:\n- PostgreSQL database support (external container)\n- Web UI on port 8000\n- ntfy/Discord notification configuration\n- AI provider settings (Anthropic, Seats.aero)\n- Deal detection threshold configuration\n- Timezone and scheduling options\n- PUID/PGID for proper permissions\n\n### Facet Cross-Promotion:\n- Added Facet mention in template Overview\n- Added footer link in Walkabout UI\n\n### TODO:\n- [ ] Create icon.png (256x256) for assets/\n- [ ] Submit template to unraid_templates repo\n- [ ] Test template installation on Unraid"}
{"id":"walkabout-90d","title":"Support multiple home airports in Settings page","description":"Replace the single home airport text input with a multi-select UI similar to the \"Dream Destinations\" section. Users should be able to add multiple home airports using the existing airport search autocomplete. Each added airport should show as a removable tag/chip. The form must submit an array of airport codes as  while keeping backward compatibility by sending  as the first airport in the list. The implementation should use the existing Tailwind CSS styling and color scheme.","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T13:23:50.463113536+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T13:33:06.18603175+13:00","closed_at":"2026-01-23T13:33:06.18603175+13:00","close_reason":"Closed"}
{"id":"walkabout-9k8","title":"Add light mode support to trips.html, settings.html, prices.html","description":"All pages except deals.html and base.html still have hard-coded dark mode styles. Need to add dark: prefix to all color classes.","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T14:42:45.754014123+13:00","created_by":"Jed Esposito","updated_at":"2026-01-26T09:15:20.841464058+13:00","closed_at":"2026-01-26T09:15:20.841464058+13:00","close_reason":"Superseded by walkabout-5fq (comprehensive UX unification)","labels":["enhancement"]}
{"id":"walkabout-awa","title":"Walkabout v1.0: Accurate Prices, Delightful UX, Powerful Search","description":"Transform Walkabout from a promising prototype with inaccurate prices and a bare-bones UI into a trustworthy, mobile-first, self-hosted flight deal finder.\n\n## GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] Prices displayed match Google Flights actual prices within 10% margin\n- [ ] No false-positive deals caused by extraction errors\n- [ ] stops_filter, cabin_class, and passengers correctly applied to Google Flights searches\n- [ ] Anomalous prices flagged and excluded from deal analysis\n- [ ] React frontend implements Calm Flight Deck design (dark mode, mobile-first)\n- [ ] Five primary views functional: Dashboard, Watchlist, Deals, History, Settings\n- [ ] Responsive and usable on mobile (375px minimum)\n- [ ] Multi-city trip plans supported (2+ legs)\n- [ ] First-run onboarding wizard guides new users to value in \u003c 2 minutes\n- [ ] Works excellently with zero API keys (scraping only)\n\n## Plan Reference\nSee: ~/.claude/plans/majestic-leaping-kazoo.md","status":"in_progress","priority":0,"issue_type":"epic","owner":"jed@theansible.net","created_at":"2026-02-06T12:06:38.941593258+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:11:09.156650518+13:00"}
{"id":"walkabout-awa.1","title":"Fix Price Extraction Accuracy","description":"Rewrite extraction from index-matching to per-flight-row. GitHub Issue: #3\n\n## Problem\nextractors.py:764 matches prices/airlines/stops by array index, not DOM structure. Bare number regex matches flight numbers as prices. Only min() price analyzed.\n\n## Acceptance Criteria\n- [ ] Each extracted flight bundles price+airline+stops+duration from same DOM parent\n- [ ] Bare number regex removed or context-restricted\n- [ ] Flights with confidence \u003c 0.5 logged but not stored\n- [ ] Manual verification: scrape AKL-\u003eLAX, top 3 prices within 10% of actual Google Flights\n\n## Key Files\n- backend/app/scrapers/extractors.py\n- backend/app/services/scraping_service.py","notes":"## Research\nSee: docs/research/awa-1-price-extraction-accuracy.md\n\nKey design decisions:\n- Per-row extraction via FlightRowLocator + RowExtractor classes\n- Row selectors: .yR1fYc (primary), ARIA-based (fallback), DOM traversal (tertiary)\n- Remove bare number regex from PRICE_PATTERNS\n- Add correlation_confidence (0.95 for per-row, 0.30 for page-level fallback)\n- Minimum confidence threshold 0.5 for storage, 0.6 for deal analysis\n- Keep page-level extraction as degraded fallback","status":"closed","priority":0,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:26.472306975+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:13:00.363865959+13:00","closed_at":"2026-02-06T13:13:00.363865959+13:00","close_reason":"All 8 tasks completed. Rewrote extraction from index-matching to per-row via FlightRowLocator + RowExtractor. Removed bare number regex. Added correlation_confidence (0.95 per-row, 0.30 page-level). Added confidence gate (0.5 storage, 0.6 deals). Added debug snapshot capture. 31 unit tests passing.","dependencies":[{"issue_id":"walkabout-awa.1","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:26.473716291+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.1","title":"Research: Fix Price Extraction Accuracy","description":"Research how Google Flights structures flight result rows in the DOM. Identify reliable selectors for flight row containers. Document the extraction architecture change from flat-list to per-row.\n\n## Output\ndocs/research/walkabout-awa.1-price-extraction-accuracy.md","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:29.674550751+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:17:04.89937783+13:00","closed_at":"2026-02-06T12:17:04.89937783+13:00","close_reason":"Research complete. Output: docs/research/awa-1-price-extraction-accuracy.md (676 lines). Key findings: per-row extraction design, bare number regex removal, correlation confidence model, 4-phase migration strategy.","dependencies":[{"issue_id":"walkabout-awa.1.1","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:07:29.675689281+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.2","title":"Add FlightRowLocator and RowExtractor classes","description":"Create FlightRowLocator (multi-level fallback: .yR1fYc, ARIA-based, DOM traversal) and RowExtractor (scoped extraction per row element) and RowValidator classes in extractors.py. ~200 lines. Foundation for per-row extraction.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:13.096600474+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:36:09.925304698+13:00","closed_at":"2026-02-06T12:36:09.925304698+13:00","close_reason":"Implemented in commit 209eba6. Files modified: extractors.py (FlightRowLocator, RowExtractor, RowValidator, FlightData extension, UnifiedExtractor rewrite, bare number removal), scraping_service.py (confidence gate). Tests in separate task awa.1.8.","dependencies":[{"issue_id":"walkabout-awa.1.2","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:13.097765224+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.3","title":"Add correlation_confidence and extraction_method to FlightData","description":"Extend FlightData dataclass with correlation_confidence (float) and extraction_method (str). Update overall confidence = field_avg*0.4 + correlation*0.6. Values: per-row specific=0.95, ARIA=0.90, DOM traversal=0.80, page-level=0.30, single=0.70.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:14.136116591+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:36:09.93318643+13:00","closed_at":"2026-02-06T12:36:09.93318643+13:00","close_reason":"Implemented in commit 209eba6. Files modified: extractors.py (FlightRowLocator, RowExtractor, RowValidator, FlightData extension, UnifiedExtractor rewrite, bare number removal), scraping_service.py (confidence gate). Tests in separate task awa.1.8.","dependencies":[{"issue_id":"walkabout-awa.1.3","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:14.137206999+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.4","title":"Rewrite UnifiedExtractor.extract_all() for per-row with page-level fallback","description":"Rewrite extract_all() (lines 742-821): Strategy 1 per-row via FlightRowLocator+RowExtractor, Strategy 2 fallback to existing page-level. Run both in parallel for comparison logging. Rename existing body to _extract_page_level().","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:15.176455926+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:36:09.937376065+13:00","closed_at":"2026-02-06T12:36:09.937376065+13:00","close_reason":"Implemented in commit 209eba6. Files modified: extractors.py (FlightRowLocator, RowExtractor, RowValidator, FlightData extension, UnifiedExtractor rewrite, bare number removal), scraping_service.py (confidence gate). Tests in separate task awa.1.8.","dependencies":[{"issue_id":"walkabout-awa.1.4","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:15.177499705+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.4","depends_on_id":"walkabout-awa.1.2","type":"blocks","created_at":"2026-02-06T12:29:40.192637004+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.4","depends_on_id":"walkabout-awa.1.3","type":"blocks","created_at":"2026-02-06T12:29:40.771543576+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.5","title":"Remove bare number regex and add context-restricted emergency fallback","description":"Remove r'\\b(\\d{3,5})\\b' from PRICE_PATTERNS (line 347). Add EMERGENCY_PRICE_PATTERN only used inside RowExtractor._extract_price() as last resort within price-context elements.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:16.215528387+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:36:09.941149417+13:00","closed_at":"2026-02-06T12:36:09.941149417+13:00","close_reason":"Implemented in commit 209eba6. Files modified: extractors.py (FlightRowLocator, RowExtractor, RowValidator, FlightData extension, UnifiedExtractor rewrite, bare number removal), scraping_service.py (confidence gate). Tests in separate task awa.1.8.","dependencies":[{"issue_id":"walkabout-awa.1.5","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:16.21654796+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.5","depends_on_id":"walkabout-awa.1.4","type":"blocks","created_at":"2026-02-06T12:29:41.314640407+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.6","title":"Add confidence gate in scraping_service.py","description":"Modify _process_prices() (lines 145-207): filter before storage (confidence \u003e= 0.5), filter before deal analysis (confidence \u003e= 0.6). Log extraction method distribution. Constants: MIN_CONFIDENCE_FOR_STORAGE=0.5, MIN_CONFIDENCE_FOR_DEALS=0.6.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:17.254753108+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:36:09.945261344+13:00","closed_at":"2026-02-06T12:36:09.945261344+13:00","close_reason":"Implemented in commit 209eba6. Files modified: extractors.py (FlightRowLocator, RowExtractor, RowValidator, FlightData extension, UnifiedExtractor rewrite, bare number removal), scraping_service.py (confidence gate). Tests in separate task awa.1.8.","dependencies":[{"issue_id":"walkabout-awa.1.6","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:17.25578784+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.6","depends_on_id":"walkabout-awa.1.3","type":"blocks","created_at":"2026-02-06T12:29:41.855495725+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.6","depends_on_id":"walkabout-awa.1.4","type":"blocks","created_at":"2026-02-06T12:29:42.395413527+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.7","title":"Add debug-mode HTML snapshot capture on success","description":"Add SAVE_DEBUG_SNAPSHOTS env flag to GoogleFlightsScraper.scrape_route(). When enabled, save page HTML after successful extraction for offline dev and test fixtures. ~15 lines in google_flights.py.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:18.28886323+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:43:04.281995155+13:00","closed_at":"2026-02-06T12:43:04.281995155+13:00","close_reason":"Added SAVE_DEBUG_SNAPSHOTS env flag and _save_debug_snapshot() method. When enabled, saves page HTML to html_snapshots dir after successful extraction. Files: google_flights.py. Commit c32568a.","dependencies":[{"issue_id":"walkabout-awa.1.7","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:18.289903132+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.1.8","title":"Create unit tests for extraction pipeline","description":"Comprehensive tests: FlightRowLocator (selector fallback), RowExtractor (complete/partial extraction), RowValidator (rejection/cross-validation), UnifiedExtractor integration, bare number regex removal, confidence gate thresholds. Files: test_extractors.py, test_scraping_service_confidence.py, fixtures/.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:19.328589716+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:12:54.83649218+13:00","closed_at":"2026-02-06T13:12:54.83649218+13:00","close_reason":"Created 31 unit tests covering: FlightData confidence calculation (5 tests), RowExtractor correlation levels (5 tests), RowValidator validation + cross-validation (7 tests), PriceValidator bounds/suspicious (4 tests), bare number regex removal (1 test), confidence gate thresholds (3 tests), confidence classification end-to-end (5 tests). All 31 pass + 19 URL tests = 50 total. Files: tests/test_extractors.py. Commit 3a412bd.","dependencies":[{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1","type":"parent-child","created_at":"2026-02-06T12:28:19.329633415+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1.2","type":"blocks","created_at":"2026-02-06T12:29:42.934226874+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1.3","type":"blocks","created_at":"2026-02-06T12:29:43.473662988+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1.4","type":"blocks","created_at":"2026-02-06T12:29:44.012598576+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1.5","type":"blocks","created_at":"2026-02-06T12:29:44.553635501+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.1.8","depends_on_id":"walkabout-awa.1.6","type":"blocks","created_at":"2026-02-06T12:29:45.0917841+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2","title":"Fix URL Construction and Filter Passthrough","description":"Pass stops_filter, cabin_class, passengers, and bags to Google Flights URLs. GitHub Issue: #3\n\n## Problem\ngoogle_flights.py:142-168 _build_url() ignores stops_filter, cabin_class, passenger counts. Users set nonstop but see all flights.\n\n## Acceptance Criteria\n- [ ] stops_filter=nonstop produces URL filtering to nonstop only\n- [ ] cabin_class=business produces URL showing business class prices\n- [ ] Passenger counts (adults, children, infants) in URL\n- [ ] Currency mismatch detection after page load\n- [ ] Booking links in UI include correct filters\n\n## Key Files\n- backend/app/scrapers/google_flights.py\n- backend/app/utils/template_helpers.py","notes":"## Research\nSee: docs/research/awa-2-url-construction-filters.md\n\nKey design decisions:\n- Dual-track: pass all params through API sources (SerpAPI/Skyscanner/Amadeus), use NL hints for Playwright\n- 3 duplicate URL builders must be consolidated\n- SerpAPI stops: 0=any, 1=nonstop, 2=one_stop, 3=two_plus\n- SerpAPI travel_class: 1=economy, 2=premium_economy, 3=business, 4=first\n- Use currency from SearchDefinition instead of hardcoding NZD\n- Phase 1: API params + NL hints; Phase 2: Playwright UI automation","status":"closed","priority":0,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:33.84444309+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:11:05.143098674+13:00","closed_at":"2026-02-06T13:11:05.143098674+13:00","close_reason":"All 7 tasks completed. Consolidated 3 URL builders into single build_google_flights_url(). Passes stops_filter, cabin_class, passengers (adults/children/infants), bags through all sources (SerpAPI, Skyscanner, Amadeus, Playwright). Added currency mismatch detection. Booking links include all filters. 19 unit tests passing.","dependencies":[{"issue_id":"walkabout-awa.2","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:33.845346992+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.1","title":"Research: Fix URL Construction and Filter Passthrough","description":"Research Google Flights URL parameter format for stops, cabin class, passengers, bags. Document exact parameter names and values.\n\n## Output\ndocs/research/walkabout-awa.2-url-construction-filters.md","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:36.781044961+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:17:04.942463637+13:00","closed_at":"2026-02-06T12:17:04.942463637+13:00","close_reason":"Research complete. Output: docs/research/awa-2-url-construction-filters.md. Key findings: SerpAPI parameter reference, dual-track approach (API params + NL hints for Playwright), 3 duplicate URL builders identified, StopsFilter/CabinClass mapping tables.","dependencies":[{"issue_id":"walkabout-awa.2.1","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:07:36.782415623+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.2","title":"Consolidate URL builders into single function","description":"Enhance build_google_flights_url() in template_helpers.py as single source of truth. Accept stops_filter, infants, bags, airlines params. Add NL hints for cabin/stops in q= param. Use currency in curr=. Replace GoogleFlightsScraper._build_url() and remove TripPlanSearchService._build_booking_url().","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:28.531512251+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:38:05.546659978+13:00","closed_at":"2026-02-06T12:38:05.546659978+13:00","close_reason":"Implemented in commit cdb9243. Consolidated 3 URL builders into single build_google_flights_url(). Expanded scrape_route() with all filter params. Updated all callers.","dependencies":[{"issue_id":"walkabout-awa.2.2","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:28.533003062+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.3","title":"Pass all SearchDefinition params through scraper and service callers","description":"Expand scrape_route() signature for infants, cabin_class, stops_filter, currency, bags. Update ScrapingService.scrape_search_definition(), PlaywrightSource.fetch_prices(), TripPlanSearchService.search_trip_plan() to pass all fields.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:29.572162429+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:38:05.554002209+13:00","closed_at":"2026-02-06T12:38:05.554002209+13:00","close_reason":"Implemented in commit cdb9243. Consolidated 3 URL builders into single build_google_flights_url(). Expanded scrape_route() with all filter params. Updated all callers.","dependencies":[{"issue_id":"walkabout-awa.2.3","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:29.573159198+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.3","depends_on_id":"walkabout-awa.2.2","type":"blocks","created_at":"2026-02-06T12:29:45.632182879+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.4","title":"Pass all filter params through API source interfaces","description":"Extend PriceSource.fetch_prices() interface with infants, stops, bags, airlines params. Update SerpAPISource (stops mapping: ANY=0, NONSTOP=1, ONE_STOP=2, TWO_PLUS=3), SkyscannerSource, AmadeusSource. Update FlightPriceFetcher and callers in prices.py and deal_rating.py.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:30.611908073+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:41:49.856373029+13:00","closed_at":"2026-02-06T12:41:49.856373029+13:00","close_reason":"Extended PriceSource.fetch_prices() abstract interface with infants_in_seat, infants_on_lap, stops_filter, carry_on_bags, checked_bags. Updated all 4 implementations: SerpAPI (maps stops to ints, passes infants/bags), Skyscanner (accepts params), Amadeus (nonStop filter, infant count), Playwright (full passthrough). Updated FlightPriceFetcher.fetch_prices() and fetch_with_retry() orchestrators. Updated prices.py refresh endpoint caller. Files: flight_price_fetcher.py, prices.py. Commit d59e6db.","dependencies":[{"issue_id":"walkabout-awa.2.4","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:30.612885195+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.5","title":"Update booking URL construction in API and UI callers","description":"Update prices.py booking URL call (line 286) to pass stops_filter, infants, bags. Verify TripPlanSearchService booking URL passes correctly.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:31.65278319+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:41:53.999745406+13:00","closed_at":"2026-02-06T12:41:53.999745406+13:00","close_reason":"Updated booking URL in prices.py get_flight_options endpoint to pass infants_in_seat, infants_on_lap, stops_filter, carry_on_bags, checked_bags through to build_google_flights_url(). Files: prices.py. Commit d59e6db.","dependencies":[{"issue_id":"walkabout-awa.2.5","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:31.653708504+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.5","depends_on_id":"walkabout-awa.2.2","type":"blocks","created_at":"2026-02-06T12:29:46.173853121+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.6","title":"Add currency mismatch detection to Playwright scraper","description":"Add _verify_currency() method to GoogleFlightsScraper. Check ARIA labels and price text for currency indicators after page load. Log WARNING on mismatch. Add currency_verified field to ScrapeResult.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:32.693117216+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:43:04.248333531+13:00","closed_at":"2026-02-06T12:43:04.248333531+13:00","close_reason":"Added _verify_currency() method to GoogleFlightsScraper. Checks ARIA labels and price text for currency indicators (NZD, USD, AUD, GBP, EUR). Logs WARNING on mismatch, returns currency_verified field on ScrapeResult. Fails open on errors. Files: google_flights.py. Commit c32568a.","dependencies":[{"issue_id":"walkabout-awa.2.6","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:32.694216251+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.6","depends_on_id":"walkabout-awa.2.3","type":"blocks","created_at":"2026-02-06T12:29:46.713618612+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.2.7","title":"Add unit tests for URL builder and filter passthrough","description":"Test build_google_flights_url() with all param combos. Test SerpAPI/Skyscanner/Amadeus include new params (mock httpx). Test ScrapingService passes all SearchDefinition fields. Test stops/cabin mapping. Files: test_url_builder.py, test_filter_passthrough.py.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:33.734832075+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:10:57.036963306+13:00","closed_at":"2026-02-06T13:10:57.036963306+13:00","close_reason":"Created 19 unit tests for build_google_flights_url() covering: basic one-way, round trip, cabin class (business/first/premium_economy/economy), stops filter (nonstop/one_stop/any), passengers (adults/children/infants), currency, locale, all-filters-combined. All 19 pass. Files: tests/test_url_builder.py. Commit 23ea39c.","dependencies":[{"issue_id":"walkabout-awa.2.7","depends_on_id":"walkabout-awa.2","type":"parent-child","created_at":"2026-02-06T12:28:33.735766435+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.7","depends_on_id":"walkabout-awa.2.2","type":"blocks","created_at":"2026-02-06T12:29:47.248879347+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.7","depends_on_id":"walkabout-awa.2.3","type":"blocks","created_at":"2026-02-06T12:29:47.78843048+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.2.7","depends_on_id":"walkabout-awa.2.4","type":"blocks","created_at":"2026-02-06T12:29:48.326334844+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3","title":"Historical Price Anomaly Guard","description":"Pre-storage validation comparing new prices against route history. GitHub Issue: #3\n\n## Problem\nNo validation before storing prices. Bad extractions poison the database and trigger false deal notifications.\n\n## Acceptance Criteria\n- [ ] FlightPrice has confidence float and is_suspicious boolean columns\n- [ ] Prices \u003e300% above or \u003e80% below 30-day median flagged suspicious\n- [ ] Deal analysis and notifications exclude suspicious prices\n- [ ] Configurable threshold via PRICE_ANOMALY_THRESHOLD_PERCENT\n\n## Key Files\n- backend/app/services/scraping_service.py\n- backend/app/models/flight_price.py\n- backend/app/services/price_analyzer.py","status":"in_progress","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:40.469204742+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:27:51.806784631+13:00","dependencies":[{"issue_id":"walkabout-awa.3","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:40.470253651+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.3","depends_on_id":"walkabout-awa.1","type":"blocks","created_at":"2026-02-06T12:08:40.892851331+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3.1","title":"Research: Historical Price Anomaly Guard","description":"Research statistical approaches for price anomaly detection. Evaluate threshold strategies and consider how to handle routes with little history.\n\n## Output\ndocs/research/walkabout-awa.3-price-anomaly-guard.md","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:43.345408556+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:20:12.160502402+13:00","closed_at":"2026-02-06T13:20:12.160502402+13:00","close_reason":"Research complete. Report at docs/research/awa-3-historical-price-anomaly-guard.md. Mapped all integration points, migration pattern, and anomaly detection logic.","dependencies":[{"issue_id":"walkabout-awa.3.1","depends_on_id":"walkabout-awa.3","type":"parent-child","created_at":"2026-02-06T12:07:43.34653916+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3.2","title":"Add confidence and is_suspicious columns to FlightPrice","description":"Add two columns to FlightPrice model: confidence (Numeric 5,4, nullable) and is_suspicious (Boolean, default False). Create Alembic migration 005. Update ensure_sqlite_columns() in database.py.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T13:27:37.179815112+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:28:44.766580505+13:00","closed_at":"2026-02-06T13:28:44.766580505+13:00","close_reason":"Added confidence (Numeric 5,4) and is_suspicious (Boolean, default False) to FlightPrice. Migration 005 created. SQLite fallback updated.","dependencies":[{"issue_id":"walkabout-awa.3.2","depends_on_id":"walkabout-awa.3","type":"parent-child","created_at":"2026-02-06T13:27:37.181025839+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3.3","title":"Add anomaly detection config settings","description":"Add price_anomaly_threshold_percent (default 300.0) to config.py Settings class.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T13:27:38.328210844+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:28:44.800388671+13:00","closed_at":"2026-02-06T13:28:44.800388671+13:00","close_reason":"Added price_anomaly_threshold_percent (default 300.0) to Settings.","dependencies":[{"issue_id":"walkabout-awa.3.3","depends_on_id":"walkabout-awa.3","type":"parent-child","created_at":"2026-02-06T13:27:38.329766057+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3.4","title":"Wire anomaly detection into scraping pipeline","description":"In _process_prices(): set price.confidence from raw_data, compute 30-day median for search_definition, flag is_suspicious if price \u003e300% above or \u003c20% of median. Exclude suspicious prices from deal analysis.","status":"in_progress","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T13:27:40.611892019+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:28:49.588166908+13:00","dependencies":[{"issue_id":"walkabout-awa.3.4","depends_on_id":"walkabout-awa.3","type":"parent-child","created_at":"2026-02-06T13:27:40.613184822+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.3.4","depends_on_id":"walkabout-awa.3.2","type":"blocks","created_at":"2026-02-06T13:27:46.770869682+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.3.4","depends_on_id":"walkabout-awa.3.3","type":"blocks","created_at":"2026-02-06T13:27:47.014958273+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.3.5","title":"Add anomaly guard unit tests","description":"Tests: normal price not suspicious, spike flagged, crash flagged, insufficient history fails open, config threshold respected, suspicious excluded from deals.","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T13:27:42.492232372+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:27:42.492232372+13:00","dependencies":[{"issue_id":"walkabout-awa.3.5","depends_on_id":"walkabout-awa.3","type":"parent-child","created_at":"2026-02-06T13:27:42.493619314+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.3.5","depends_on_id":"walkabout-awa.3.4","type":"blocks","created_at":"2026-02-06T13:27:47.054459907+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.4","title":"Deal Feed and Dashboard","description":"The morning coffee experience - card-based deal feed with ratings, booking links, actions. GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] Dashboard shows deals from RSS and price monitoring\n- [ ] Cards show: destination, price, savings, airline, stops, source, rating\n- [ ] Book links open Google Flights with correct search params\n- [ ] 30-day sparklines on each card\n- [ ] Dismiss persists, confidence traffic-light visible\n- [ ] Mobile: single column, 44px touch targets\n\n## Key Files\n- frontend/src/pages/Dashboard.tsx (new)\n- frontend/src/components/DealCard.tsx (new)\n- frontend/src/components/PriceSparkline.tsx (new)\n- Backend: /deals/api/deals, /deals/api/deals/{id}/dismiss","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:48.149312486+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:07:48.149312486+13:00","dependencies":[{"issue_id":"walkabout-awa.4","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:48.150422941+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.4","depends_on_id":"walkabout-awa.3","type":"blocks","created_at":"2026-02-06T12:08:40.935658831+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.4","depends_on_id":"walkabout-awa.5","type":"blocks","created_at":"2026-02-06T12:08:50.720056534+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.4.1","title":"Research: Deal Feed and Dashboard","description":"Research infinite scroll patterns in React, deal card UX best practices, and Recharts sparkline implementation. Review existing deal API response shape.\n\n## Output\ndocs/research/walkabout-awa.4-deal-feed-dashboard.md","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:08:03.99649728+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:03.99649728+13:00","dependencies":[{"issue_id":"walkabout-awa.4.1","depends_on_id":"walkabout-awa.4","type":"parent-child","created_at":"2026-02-06T12:08:03.997595052+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5","title":"Design System and Frontend Foundation","description":"Implement Calm Flight Deck design from UX_DESIGN.md. Set up React Router, dark mode shell, shared components. GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] 5 routes functional: Dashboard, Watchlist, Deals, History, Settings\n- [ ] Dark mode matches UX_DESIGN.md tokens (#1a1a1a bg, #252525 cards, #00ff88 deals)\n- [ ] JetBrains Mono for prices/codes, Inter for UI text\n- [ ] Bottom tab bar on mobile (\u003c 768px), sidebar on desktop\n- [ ] Shared components: DealCard, PriceDisplay, Badge, Button, Input\n- [ ] API client uses SearchDefinition endpoints\n- [ ] Responsive at 375px, 768px, 1280px\n\n## Key Files\n- frontend/src/App.tsx\n- frontend/tailwind.config.js\n- frontend/src/components/\n- frontend/src/pages/\n- docs/UX_DESIGN.md","notes":"## Research\nSee: docs/research/awa-5-design-system-foundation.md\n\nKey design decisions:\n- React Router v7 with 5 routes (Dashboard, Trips, Routes, Settings, About)\n- Tailwind darkMode: 'class' with dark-first approach\n- Google Fonts CDN for JetBrains Mono + Inter (preconnect in index.html)\n- 3 new deps: react-router-dom, @heroicons/react, clsx\n- Sidebar (desktop 256px) + Bottom tabs (mobile 44px targets)\n- API client complete rewrite: Route model -\u003e SearchDefinition model\n- ~25 new files, 10 modified files","status":"closed","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:48.269659879+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:27:23.300036802+13:00","closed_at":"2026-02-06T13:27:23.300036802+13:00","close_reason":"Design System and Frontend Foundation complete. React Router with 5 routes, dark mode Calm Flight Deck design, 8 shared components, mobile bottom tabs + desktop sidebar, API client rewritten for SearchDefinition endpoints, all pages use shared components.","dependencies":[{"issue_id":"walkabout-awa.5","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:48.270811353+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.1","title":"Research: Design System and Frontend Foundation","description":"Research current React Router v6+ patterns, Tailwind dark mode setup, and Google Fonts loading for JetBrains Mono + Inter. Review UX_DESIGN.md design tokens.\n\n## Output\ndocs/research/walkabout-awa.5-design-system-foundation.md","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:51.470319242+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:17:04.979740972+13:00","closed_at":"2026-02-06T12:17:04.979740972+13:00","close_reason":"Research complete. Output: docs/research/awa-5-design-system-foundation.md. Key findings: 30+ backend API endpoints cataloged, Jinja2 template inventory (7 templates, 1415 lines JS), React Router v7 + Tailwind dark mode plan, ~25 new files + 10 modified, 3 npm deps to add.","dependencies":[{"issue_id":"walkabout-awa.5.1","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:07:51.471548414+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.2","title":"Install deps and configure design system foundation","description":"Install react-router-dom, @heroicons/react, clsx. Configure Tailwind: darkMode class, extend colors (slate-850/950, deal variants), fontFamily (Inter sans, JetBrains Mono mono). Update index.html with dark class, Google Fonts. Replace index.css with dark-mode-first base. Expand vite proxy. Create useTheme.ts hook.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:48.604761422+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:10:57.071068297+13:00","closed_at":"2026-02-06T13:10:57.071068297+13:00","close_reason":"Installed react-router-dom dep. Configured tailwind.config.js with Calm Flight Deck tokens (deck colors, deal colors, accent, JetBrains Mono + Inter fonts, touch spacing, card radius). Updated index.css with dark mode defaults and font imports. Created AppShell with desktop sidebar + mobile bottom tab bar. Set up 5 routes via React Router. Created shared component library (Badge, Button, PriceDisplay, Spinner). Updated API client from Route to SearchDefinition endpoints. Files: package.json, tailwind.config.js, index.css, App.tsx, AppShell.tsx, 5 pages, 4 shared components, client.ts. Commit 23ea39c.","dependencies":[{"issue_id":"walkabout-awa.5.2","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:48.60638152+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.3","title":"Set up React Router and AppLayout shell","description":"Replace App.tsx with BrowserRouter + Routes wrapping 5 routes inside AppLayout. Create AppLayout.tsx with dark-mode shell, Outlet, placeholder slots for sidebar/bottom tabs.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:49.646179162+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:14:46.482367631+13:00","closed_at":"2026-02-06T13:14:46.482367631+13:00","close_reason":"Already completed as part of awa.5.2. App.tsx has BrowserRouter + Routes wrapping 5 routes. AppShell.tsx has dark-mode shell with Outlet, desktop sidebar, mobile bottom tabs. Commit 23ea39c.","dependencies":[{"issue_id":"walkabout-awa.5.3","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:49.647263369+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.3","depends_on_id":"walkabout-awa.5.2","type":"blocks","created_at":"2026-02-06T12:29:48.867537114+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.4","title":"Build navigation components (Sidebar and BottomTabs)","description":"Desktop Sidebar (fixed left, 256px, collapsible to 64px). Mobile BottomTabs (fixed bottom, 44px touch targets). NavLink active states, @heroicons/react icons. Shared navItems.ts config. About in sidebar only, 4 items on mobile. Wire into AppLayout.","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:50.686844289+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:15:07.086358799+13:00","closed_at":"2026-02-06T13:15:07.086358799+13:00","close_reason":"Already completed as part of awa.5.2. AppShell.tsx has desktop sidebar (w-56, fixed left), mobile bottom tabs (fixed bottom, min-h-touch targets), NavLink active states with accent-primary highlight, inline SVG icons for all 5 nav items. Commit 23ea39c.","dependencies":[{"issue_id":"walkabout-awa.5.4","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:50.687850647+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.4","depends_on_id":"walkabout-awa.5.3","type":"blocks","created_at":"2026-02-06T12:29:49.406032725+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.5","title":"Build shared UI primitives","description":"Create Card (interactive variant), Button (primary/secondary/ghost/danger, sm/md/lg, loading), Badge (green/amber/blue/gray/red), Input (label, error, focus ring), LoadingSpinner (sm/md/lg), EmptyState (icon+title+desc+action), PageHeader (title+subtitle+actions), PriceDisplay (JetBrains Mono, trend arrow).","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:51.726961871+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:19:34.663191685+13:00","closed_at":"2026-02-06T13:19:34.663191685+13:00","close_reason":"Completed shared UI primitives. Created Card.tsx, Input.tsx, EmptyState.tsx, PageHeader.tsx. Updated index.ts barrel export. Total 8 shared components.","dependencies":[{"issue_id":"walkabout-awa.5.5","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:51.727897364+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.5","depends_on_id":"walkabout-awa.5.2","type":"blocks","created_at":"2026-02-06T12:29:49.942774994+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.6","title":"Rewrite API client for current backend endpoints","description":"Replace stale api/client.ts (old Route model) with domain-organized layer. Strip client.ts to axios instance. Create types.ts, deals.ts, trips.ts, prices.ts, settings.ts, airports.ts matching actual backend Pydantic models.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:52.767058844+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:14:51.335468567+13:00","closed_at":"2026-02-06T13:14:51.335468567+13:00","close_reason":"Already completed as part of awa.5.2. client.ts rewritten with SearchDefinition, FlightPrice, PriceStats, Deal, UserSettings types and all matching API endpoints. Single-file approach is adequate for current scope. Commit 23ea39c.","dependencies":[{"issue_id":"walkabout-awa.5.6","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:52.768168689+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.6","depends_on_id":"walkabout-awa.5.2","type":"blocks","created_at":"2026-02-06T12:29:50.484251146+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.7","title":"Create page shells with empty states","description":"5 pages: DashboardPage (flight radar warming up, useQuery deals), TripsPage (nothing planned yet), RoutesPage (no routes tracked), SettingsPage (card placeholders), AboutPage (useQuery version). All use PageHeader + EmptyState.","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:53.803273839+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:27:12.90541982+13:00","closed_at":"2026-02-06T13:27:12.90541982+13:00","close_reason":"Pages updated with PageHeader + EmptyState. Dashboard, Watchlist, Deals, History use EmptyState. Settings uses Card placeholders.","dependencies":[{"issue_id":"walkabout-awa.5.7","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:53.804257864+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.7","depends_on_id":"walkabout-awa.5.3","type":"blocks","created_at":"2026-02-06T12:29:51.023988564+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.7","depends_on_id":"walkabout-awa.5.5","type":"blocks","created_at":"2026-02-06T12:29:51.563983552+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.5.8","title":"Restyle existing components for dark mode","description":"Update RouteCard.tsx: use Card, PriceDisplay, Badge; change Route to SearchDefinition interface. Update PriceChart.tsx: emerald-400 line, slate-400 axes, slate-800 tooltip. Remove all light-mode colors.","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:28:54.839134719+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T13:27:12.941352113+13:00","closed_at":"2026-02-06T13:27:12.941352113+13:00","close_reason":"RouteCard restyled with Card/Badge/PriceDisplay and SearchDefinition type. PriceChart dark mode: emerald line, slate axes, dark tooltip. All light-mode colors removed.","dependencies":[{"issue_id":"walkabout-awa.5.8","depends_on_id":"walkabout-awa.5","type":"parent-child","created_at":"2026-02-06T12:28:54.840291775+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.8","depends_on_id":"walkabout-awa.5.2","type":"blocks","created_at":"2026-02-06T12:29:52.104540572+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.8","depends_on_id":"walkabout-awa.5.5","type":"blocks","created_at":"2026-02-06T12:29:52.640034742+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.5.8","depends_on_id":"walkabout-awa.5.6","type":"blocks","created_at":"2026-02-06T12:29:53.176370657+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.6","title":"Watchlist and Trip Management UI","description":"The sniper experience - create monitors, manage trips, see prices from the UI. GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] Watchlist shows SearchDefinitions with price, trend, health\n- [ ] Add Route with airport autocomplete, cabin, stops, dates\n- [ ] Trip Plans with matches displayed as ranked cards\n- [ ] Edit/pause/delete operations work\n- [ ] Instant feedback on new monitor creation\n- [ ] Health indicator: green/yellow/red per route\n\n## Key Files\n- frontend/src/pages/Watchlist.tsx (new)\n- frontend/src/pages/TripPlans.tsx (new)\n- frontend/src/components/AirportAutocomplete.tsx (new)\n- Backend: /trips/api/trips, /api/routes","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:52.267154619+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:07:52.267154619+13:00","dependencies":[{"issue_id":"walkabout-awa.6","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:52.268178751+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.6","depends_on_id":"walkabout-awa.5","type":"blocks","created_at":"2026-02-06T12:08:41.012175611+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.6","depends_on_id":"walkabout-awa.2","type":"blocks","created_at":"2026-02-06T12:08:50.76100971+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.6.1","title":"Research: Watchlist and Trip Management UI","description":"Research airport autocomplete implementation (using airports.dat), combobox/select patterns in React, and existing trip/route API endpoints shape.\n\n## Output\ndocs/research/walkabout-awa.6-watchlist-trip-management.md","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:08:06.993797742+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:06.993797742+13:00","dependencies":[{"issue_id":"walkabout-awa.6.1","depends_on_id":"walkabout-awa.6","type":"parent-child","created_at":"2026-02-06T12:08:06.995268935+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.7","title":"Multi-City Trip Support","description":"Fly to Tokyo, spend 5 days, fly to Seoul. Multi-segment trip planning. GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] SearchLeg model with origin, destination, date_range, order\n- [ ] TripPlan supports multiple SearchLegs\n- [ ] Multi-city Google Flights URLs generated correctly\n- [ ] Frontend Add Leg with drag-to-reorder\n- [ ] Per-leg best price + total sum displayed\n- [ ] Existing single-leg TripPlans backward compatible\n\n## Key Files\n- backend/app/models/search_leg.py (new)\n- backend/app/models/trip_plan.py\n- backend/app/services/trip_plan_search.py\n- frontend/src/components/TripLegEditor.tsx (new)","status":"open","priority":3,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:07:56.466947939+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:07:56.466947939+13:00","dependencies":[{"issue_id":"walkabout-awa.7","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:07:56.468072201+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.7","depends_on_id":"walkabout-awa.6","type":"blocks","created_at":"2026-02-06T12:08:41.089170744+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.7.1","title":"Research: Multi-City Trip Support","description":"Research Google Flights multi-city URL format. Document SearchLeg model design and Alembic migration strategy for backward compatibility.\n\n## Output\ndocs/research/walkabout-awa.7-multi-city-trips.md","status":"open","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:08:09.75206455+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:09.75206455+13:00","dependencies":[{"issue_id":"walkabout-awa.7.1","depends_on_id":"walkabout-awa.7","type":"parent-child","created_at":"2026-02-06T12:08:09.753054266+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.8","title":"Settings and Onboarding","description":"First-run experience and configuration. Replaces Jinja2 settings with React. GitHub Issue: #3\n\n## Acceptance Criteria\n- [ ] Settings with collapsible sections\n- [ ] Airport autocomplete, notification test buttons\n- [ ] Masked API key inputs with reveal\n- [ ] 3-step onboarding wizard on first run\n- [ ] All Jinja2 settings functionality available\n\n## Key Files\n- frontend/src/pages/Settings.tsx (new)\n- frontend/src/components/OnboardingWizard.tsx (new)\n- Backend: /settings/api/settings","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-02-06T12:08:00.082629335+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:00.082629335+13:00","dependencies":[{"issue_id":"walkabout-awa.8","depends_on_id":"walkabout-awa","type":"parent-child","created_at":"2026-02-06T12:08:00.083562784+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-awa.8","depends_on_id":"walkabout-awa.5","type":"blocks","created_at":"2026-02-06T12:08:54.864217848+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-awa.8.1","title":"Research: Settings and Onboarding","description":"Research onboarding wizard UX patterns, collapsible section components in React, and existing UserSettings model/API shape.\n\n## Output\ndocs/research/walkabout-awa.8-settings-onboarding.md","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-02-06T12:08:13.091921364+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:13.091921364+13:00","dependencies":[{"issue_id":"walkabout-awa.8.1","depends_on_id":"walkabout-awa.8","type":"parent-child","created_at":"2026-02-06T12:08:13.093040757+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-bww","title":"Add test suite - currently zero tests","description":"**Current State:**\nThe project has NO tests at all. This is high risk for a production system.\n\n**Required:**\n1. Set up pytest infrastructure\n2. Unit tests for:\n   - Feed parsers (Secret Flying, OMAAT, etc.)\n   - AI extractor response parsing\n   - Relevance scoring\n   - Deal scoring\n   - Airport validation\n3. Integration tests for:\n   - API endpoints\n   - Database operations\n4. Mock Google Flights responses for scraper tests\n\n**Priority Order:**\n1. Feed parsers (core ingestion)\n2. Relevance/scoring (core logic)\n3. API endpoints\n4. Scraper (complex mocking needed)","status":"open","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:46.58791816+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:24:46.58791816+13:00","labels":["tech-debt"],"dependencies":[{"issue_id":"walkabout-bww","depends_on_id":"walkabout-nn6.2","type":"parent-child","created_at":"2026-01-30T09:18:59.69025742+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-ct4","title":"Add database migrations for schema changes","description":"Current state: Only initial schema migration exists. Alembic is set up but underutilized. Need proper migration workflow for: 1. Schema version tracking 2. Production-safe rollouts 3. Data migration support. Files: backend/alembic/versions/","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:25:17.845925194+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:25:17.845925194+13:00","labels":["tech-debt"],"dependencies":[{"issue_id":"walkabout-ct4","depends_on_id":"walkabout-nn6.5","type":"parent-child","created_at":"2026-01-30T09:18:59.830126224+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-d5i","title":"Improve relevance tags with icons","description":"Add icons to relevance tags: globe for Oceania/home, plane for hub airports, heart for similar destinations. Makes cards more scannable.","status":"open","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T14:42:56.493258301+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T14:42:56.493258301+13:00","labels":["enhancement"]}
{"id":"walkabout-dey","title":"UX: Show actionable flight details on Prices and Trips pages","description":"Currently both pages show summary data but lack actionable details:\n\n**Prices page issues:**\n- Shows only aggregate stats (low/current/trend)\n- No actual flight options with dates, airlines, stops\n- No way to click through to book the flight\n- Should show top 3 recent options with booking links\n\n**Trips page issues:**\n- Deal matches show destination + price + match % but NO travel dates\n- User can't see WHEN the flights are available\n- Unclear that \"Search Live Prices\" actually searches Google Flights (vs just RSS deals)\n\n**Required changes:**\n1. Prices page: Add section showing top 3 flight options with full details + Google Flights booking link\n2. Trips page: Show parsed_travel_dates in deal cards\n3. Trips page: Better labeling to distinguish RSS deals vs live Google Flights search","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T10:01:25.107631851+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T10:05:19.857735634+13:00","closed_at":"2026-01-23T10:05:19.857735634+13:00","close_reason":"Closed","labels":["ux"]}
{"id":"walkabout-ds0","title":"Add circuit breaker for Google Flights scraping","description":"**Problem:**\nWhen Google Flights scraping fails repeatedly (rate limiting, captcha, layout changes), the system keeps trying and wasting resources.\n\n**Required:**\n1. Implement circuit breaker pattern\n2. After N consecutive failures, pause scraping for that route\n3. Exponential backoff on failures\n4. Alert when circuit opens\n5. Health dashboard showing circuit states\n\n**Reference:**\nThe Oracle review mentioned this: \"Missing circuit breaker integration\"","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:58.185593744+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:19:21.548119985+13:00","closed_at":"2026-01-30T09:19:21.548119985+13:00","close_reason":"Already implemented in ScrapeHealth model. Features include: consecutive failure tracking, circuit opens after 5 failures, can_scrape() checks circuit state, and UI shows circuit states on status page.","labels":["enhancement"]}
{"id":"walkabout-eid","title":"Complete notification system (ntfy integration)","description":"**Current State:**\n-  class exists but only logs to console\n- No actual push notifications sent\n-  env var documented but not fully wired\n\n**Required:**\n1. Implement ntfy.sh integration\n2. Add notification preferences per user\n3. Trigger notifications on:\n   - Deal matches for watched routes\n   - Price drops below threshold\n   - Trip plan matches\n   - Scraper health issues\n4. Add webhook support as alternative\n\n**Files:**\n- \n-  - NOTIFICATION_URL","status":"closed","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:54.870718986+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T11:23:17.617040926+13:00","closed_at":"2026-01-30T11:23:17.617040926+13:00","close_reason":"## Implementation Complete\n\nAll required functionality implemented:\n1.  ntfy.sh integration (ntfy_self and ntfy_sh providers)\n2.  Notification preferences per user (UserSettings model)\n3.  Trigger notifications:\n   - Deal matches for watched routes\n   - Price drops below threshold (z-score, new_low)\n   - Scraper health issues (stale data, failures)\n4.  Discord webhook support as alternative\n\n**Files:**\n- backend/app/services/notification.py - Multi-provider NotificationService\n- backend/app/models/user_settings.py - Notification preferences\n- backend/app/api/notifications.py - Test/history endpoints\n\n**Note:** Trip plan match notifications deferred to future enhancement.","labels":["feature"],"dependencies":[{"issue_id":"walkabout-eid","depends_on_id":"walkabout-nn6.3","type":"parent-child","created_at":"2026-01-30T09:18:59.76147664+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-jqy","title":"CRITICAL: Google Flights price selector broken (layout_change)","description":"**From Production Logs (2026-01-23):**\n\nGoogle Flights changed their page structure. The price selector  no longer finds elements:\n\n\n**Impact:**\nALL price tracking is broken. This is the core functionality.\n\n**Fix Required:**\n1. Inspect current Google Flights HTML structure\n2. Update price extraction selectors\n3. Add multiple fallback selectors for resilience\n4. Consider adding visual regression tests\n5. Add alerting when layout_change detected\n\n**Files:**\n-  - price parsing section (lines 324-352)\n- Screenshots saved at  and ","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:38.317648178+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:38:58.459549453+13:00","closed_at":"2026-01-23T09:38:58.459549453+13:00","close_reason":"Closed","labels":["bug"]}
{"id":"walkabout-jwk","title":"Deprecate React frontend, enhance SSR templates","description":"**Current State:**\n- React frontend at  is minimal (just shows routes)\n- Jinja2 SSR templates are well-developed with full UI\n- Maintaining both is unnecessary overhead\n\n**Decision Needed:**\nEither:\nA) Remove React frontend, go full SSR with HTMX for interactivity\nB) Fully develop React frontend and deprecate SSR\n\n**Recommendation:** Option A - SSR templates are already good, add HTMX for dynamic updates.\n\n**Current SSR Pages:**\n- deals.html - Full deal listing with filters\n- trips.html - Trip plans\n- prices.html - Price tracking\n- settings.html - User preferences\n- status.html - System health","status":"closed","priority":3,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:25:02.793653859+13:00","created_by":"Jed Esposito","updated_at":"2026-02-06T12:08:59.582899353+13:00","closed_at":"2026-02-06T12:08:59.582899353+13:00","close_reason":"Superseded by walkabout-awa.5 (Design System). Committing to React SPA per v1.0 plan.","labels":["tech-debt"]}
{"id":"walkabout-kjr","title":"Load More Deals button is non-functional","description":"The Load More Deals button on deals.html has no onclick handler - its just a static button. Need to implement pagination.","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T14:42:53.934126391+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T14:42:53.934126391+13:00","labels":["bug"],"dependencies":[{"issue_id":"walkabout-kjr","depends_on_id":"walkabout-nn6.6","type":"parent-child","created_at":"2026-01-30T09:18:59.98428469+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-mzb","title":"Validate airport codes against IATA database","description":"**From Production Logs:**\n\nInvalid airport code \"RID\" is being tracked. This causes wasted scrape attempts:\n\n\n\"RID\" is not a valid IATA code. The system should:\n1. Validate airport codes on input\n2. Reject invalid codes with helpful error message\n3. Suggest corrections (e.g., \"Did you mean RIC (Richmond)?\")\n\n**Files:**\n-  - AIRPORTS dict\n-  - search definition creation\n-  - trip plan creation","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:24:42.097556033+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:38:58.462017626+13:00","closed_at":"2026-01-23T09:38:58.462017626+13:00","close_reason":"Closed","labels":["bug"]}
{"id":"walkabout-nn6","title":"Complete Walkabout Through Phase 2","description":"Transform Walkabout from a working prototype into a reliable, tested, production-ready flight deal intelligence platform with award flight tracking capabilities.\n\n## Definition of Complete\n1. Proven reliability (7+ days stable operation)\n2. Production quality (tests, real notifications)\n3. Award flight tracking via Seats.aero\n4. Family-viable award alerts (4+ seats)\n\n## Acceptance Criteria\n- [ ] Phase 1a success criteria met\n- [ ] Test suite with \u003e70% coverage on core services\n- [ ] Real push notifications via ntfy\n- [ ] Seats.aero integration tracking award availability\n- [ ] Award alerts for family-viable redemptions\n- [ ] Documentation updated\n\n## Plan Reference\nSee: ~/.claude/plans/crispy-floating-milner.md","status":"in_progress","priority":1,"issue_type":"epic","owner":"jed@theansible.net","created_at":"2026-01-30T09:17:43.054977593+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:21:30.799721081+13:00"}
{"id":"walkabout-nn6.1","title":"Validate Phase 1a Success Criteria","description":"Collect operational metrics and confirm Phase 1a goals before adding features.\n\n## Acceptance Criteria\n- [ ] 7 consecutive days of operational data collected\n- [ ] Scrape failure rate calculated (\u003c10% target)\n- [ ] 50+ price points verified in database\n- [ ] Gaps documented and addressed\n\n## Dependencies\nNone (first priority)","status":"closed","priority":0,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:17:56.502601987+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T11:20:52.66151095+13:00","closed_at":"2026-01-30T11:20:52.66151095+13:00","close_reason":"## Validation Complete - All Criteria PASSED\n\n### Results:\n- [x] 7 consecutive days of operational data: **9 days** (Jan 21-29)\n- [x] Scrape failure rate \u003c10%: **9.7%** (28/31 success)\n- [x] 50+ price points: **301 prices** in database\n- [x] Gaps documented: DNS resolution issues identified, no critical gaps\n\n### Files:\n- Created: docs/validation/phase1a-validation-2026-01-30.md\n\n### Conclusion:\nPhase 1a is validated. Ready to proceed to Phase 2.","dependencies":[{"issue_id":"walkabout-nn6.1","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:17:56.503927823+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.10","title":"Award Polling Service","description":"Scheduled job to poll Seats.aero for tracked searches.\n\n## Acceptance Criteria\n- [ ] AwardPoller scheduled job (1x daily)\n- [ ] Hash-based change detection (avoid duplicate alerts)\n- [ ] Family-viable filter (4+ seats in same cabin)\n- [ ] Respects Seats.aero rate limits (~1000 calls/day)\n\n## Dependencies\n- Feature 8: Seats.aero API Integration\n- Feature 9: Award Data Models\n\n## Phase\nPhase 2 - Award Tracking","status":"open","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:32.698530264+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:32.698530264+13:00","dependencies":[{"issue_id":"walkabout-nn6.10","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:32.699474633+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.10","depends_on_id":"walkabout-nn6.8","type":"blocks","created_at":"2026-01-30T09:18:48.392176629+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.10","depends_on_id":"walkabout-nn6.9","type":"blocks","created_at":"2026-01-30T09:18:48.467567937+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.11","title":"Award Notifications","description":"Alert when award seats become available.\n\n## Acceptance Criteria\n- [ ] Notification on availability change (not every poll)\n- [ ] Include program, route, dates, seat count in alert\n- [ ] 24h cooldown for same route (prevent spam)\n- [ ] Quiet hours respected\n\n## Dependencies\n- Feature 3: Complete Notification System\n- Feature 10: Award Polling Service\n\n## Phase\nPhase 2 - Award Tracking","status":"open","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:32.766979837+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:32.766979837+13:00","dependencies":[{"issue_id":"walkabout-nn6.11","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:32.768142452+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.11","depends_on_id":"walkabout-nn6.3","type":"blocks","created_at":"2026-01-30T09:18:48.537638698+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.11","depends_on_id":"walkabout-nn6.10","type":"blocks","created_at":"2026-01-30T09:18:48.606600086+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.12","title":"Award Tracking UI","description":"UI for managing award searches and viewing availability.\n\n## Acceptance Criteria\n- [ ] Awards page with tracked searches list\n- [ ] Form to add/edit award searches\n- [ ] Availability display with dates and seat counts\n- [ ] Program selector (United, Aeroplan, QF, Velocity)\n\n## Dependencies\n- Feature 9: Award Data Models\n- Feature 10: Award Polling Service\n\n## Phase\nPhase 2 - Award Tracking","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:32.834309256+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:32.834309256+13:00","dependencies":[{"issue_id":"walkabout-nn6.12","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:32.83548162+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.12","depends_on_id":"walkabout-nn6.9","type":"blocks","created_at":"2026-01-30T09:18:51.898390692+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.12","depends_on_id":"walkabout-nn6.10","type":"blocks","created_at":"2026-01-30T09:18:51.968431807+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.2","title":"Test Suite Foundation","description":"Establish pytest infrastructure and test critical paths.\n\n## Incorporates\n- walkabout-bww (Add test suite)\n\n## Acceptance Criteria\n- [ ] pytest configured with SQLite fixtures\n- [ ] Unit tests for feed parsers\n- [ ] Unit tests for scoring and price analysis\n- [ ] Integration tests for API endpoints\n- [ ] GitHub Actions CI pipeline\n\n## Dependencies\nNone","status":"open","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:17:56.565920244+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:17:56.565920244+13:00","dependencies":[{"issue_id":"walkabout-nn6.2","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:17:56.566940628+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.3","title":"Complete Notification System","description":"Wire up actual ntfy push notifications.\n\n## Incorporates\n- walkabout-eid (Complete notification system)\n\n## Acceptance Criteria\n- [ ] NtfyNotifier sending real HTTP requests\n- [ ] Deal alerts on z-score threshold or new low\n- [ ] System alerts for failures/stale data\n- [ ] Notification preferences (frequency, quiet hours)\n- [ ] Test notification endpoint working\n\n## Dependencies\nNone","status":"closed","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:17:56.635214707+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T11:23:26.657202414+13:00","closed_at":"2026-01-30T11:23:26.657202414+13:00","close_reason":"## Feature Complete - All Acceptance Criteria Met\n\n- [x] NtfyNotifier sending real HTTP requests (httpx client)\n- [x] Deal alerts on z-score threshold or new low\n- [x] System alerts for failures/stale data\n- [x] Notification preferences (frequency, quiet hours)\n- [x] Test notification endpoint working\n\n**Implementation:**\n- Multi-provider support: ntfy_self, ntfy_sh, discord\n- Quiet hours with timezone support\n- Cooldown to prevent spam (configurable)\n- In-memory history for dashboard display\n- Graceful degradation (always records to history)\n\n**Child tasks closed:**\n- walkabout-eid: Complete notification system (ntfy integration)","dependencies":[{"issue_id":"walkabout-nn6.3","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:17:56.636260068+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.4","title":"Scraper Feature Extraction","description":"Extract airline, stops, duration from Google Flights instead of hardcoding.\n\n## Acceptance Criteria\n- [ ] Airline name extracted from flight cards\n- [ ] Number of stops extracted\n- [ ] Duration in minutes extracted\n- [ ] Tests for extraction logic\n\n## Dependencies\n- Feature 2: Test Suite (tests first)","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:17:56.71449826+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:17:56.71449826+13:00","dependencies":[{"issue_id":"walkabout-nn6.4","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:17:56.715628222+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.4","depends_on_id":"walkabout-nn6.2","type":"blocks","created_at":"2026-01-30T09:18:40.156147057+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.5","title":"Phase 1b Infrastructure Prep","description":"Prepare infrastructure patterns without full migration.\n\n## Incorporates\n- walkabout-ct4 (Database migrations)\n\n## Acceptance Criteria\n- [ ] Alembic migrations audited and documented\n- [ ] docker-compose.phase1b.yml with Celery/Redis ready\n- [ ] TimescaleDB migration scripts prepared\n- [ ] Rollback procedures documented\n\n## Dependencies\n- Feature 2: Test Suite (tests to verify)","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:19.496241938+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:19.496241938+13:00","dependencies":[{"issue_id":"walkabout-nn6.5","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:19.497589986+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.5","depends_on_id":"walkabout-nn6.2","type":"blocks","created_at":"2026-01-30T09:18:40.228852898+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.6","title":"UX Polish and Bug Fixes","description":"Complete in-progress UI work.\n\n## Incorporates\n- walkabout-5z7 (Trip Planner redesign)\n- walkabout-kjr (Load More pagination)\n- walkabout-5fq (Light mode styling)\n\n## Acceptance Criteria\n- [ ] Trip Planner redesigned with Unified Best Flights\n- [ ] Load More pagination working\n- [ ] Light/dark mode styling unified\n\n## Dependencies\nNone","status":"open","priority":2,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:19.560319923+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:19.560319923+13:00","dependencies":[{"issue_id":"walkabout-nn6.6","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:19.561492377+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.7","title":"Operational Excellence","description":"Production hardening features.\n\n## Acceptance Criteria\n- [ ] Automated database backups\n- [ ] Container healthchecks\n- [ ] Log rotation configured\n- [ ] Operational runbook created\n\n## Dependencies\n- Feature 2: Test Suite\n- Feature 3: Notifications","status":"open","priority":3,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:19.623360722+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:19.623360722+13:00","dependencies":[{"issue_id":"walkabout-nn6.7","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:19.624423086+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.7","depends_on_id":"walkabout-nn6.2","type":"blocks","created_at":"2026-01-30T09:18:40.298014267+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.7","depends_on_id":"walkabout-nn6.3","type":"blocks","created_at":"2026-01-30T09:18:40.364274109+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.8","title":"Seats.aero API Integration","description":"Build Seats.aero API client for award availability polling.\n\n## Incorporates\n- walkabout-4d8 (Seats.aero integration)\n\n## Acceptance Criteria\n- [ ] SeatsAeroClient with rate-limited API calls\n- [ ] Error handling for API failures\n- [ ] API key configuration via settings\n- [ ] Tests with mocked API responses\n\n## Dependencies\n- Feature 2: Test Suite\n- Feature 3: Notifications\n\n## Phase\nPhase 2 - Award Tracking","status":"open","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:19.687224939+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:19.687224939+13:00","dependencies":[{"issue_id":"walkabout-nn6.8","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:19.688219193+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.8","depends_on_id":"walkabout-nn6.2","type":"blocks","created_at":"2026-01-30T09:18:40.444274978+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.8","depends_on_id":"walkabout-nn6.3","type":"blocks","created_at":"2026-01-30T09:18:40.51457187+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-nn6.9","title":"Award Data Models","description":"Database models for tracking award searches and availability.\n\n## Acceptance Criteria\n- [ ] AwardProgram model (United, Aeroplan, Qantas FF, Velocity)\n- [ ] TrackedAwardSearch model (route, dates, program, min seats)\n- [ ] AwardObservation model (timestamp, payload hash, results)\n- [ ] Alembic migration for new tables\n\n## Dependencies\n- Feature 8: Seats.aero API Integration\n\n## Phase\nPhase 2 - Award Tracking","status":"open","priority":1,"issue_type":"feature","owner":"jed@theansible.net","created_at":"2026-01-30T09:18:32.622661868+13:00","created_by":"Jed Esposito","updated_at":"2026-01-30T09:18:32.622661868+13:00","dependencies":[{"issue_id":"walkabout-nn6.9","depends_on_id":"walkabout-nn6","type":"parent-child","created_at":"2026-01-30T09:18:32.624089407+13:00","created_by":"Jed Esposito"},{"issue_id":"walkabout-nn6.9","depends_on_id":"walkabout-nn6.8","type":"blocks","created_at":"2026-01-30T09:18:48.32320917+13:00","created_by":"Jed Esposito"}]}
{"id":"walkabout-pzo","title":"CRITICAL: Fix Playwright browser crash between scrapes","description":"From Production Logs (2026-01-23): The Google Flights scraper crashes after the first successful scrape. Subsequent scrapes fail with browser context closed errors. The scraper reuses a browser instance but does not handle when it crashes. Fix: Create fresh browser per scrape or detect death and recreate. Files: backend/app/scrapers/google_flights.py","status":"closed","priority":0,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T09:25:10.812311193+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T09:38:58.456729428+13:00","closed_at":"2026-01-23T09:38:58.456729428+13:00","close_reason":"Closed","labels":["bug"]}
{"id":"walkabout-uul","title":"Implement rolling-horizon price monitoring architecture","description":"## Problem\nCurrent Trip Plan searching is a \"snapshot refresh\" approach that doesn't work well for long monitoring windows (1+ years). Google Flights only has data ~10 months out, so we need a smarter approach.\n\n## Oracle's Recommended Architecture\n\n### 1. Persistent Itinerary Queue ( table)\n- Track every origin/destination/date combo to monitor\n- Columns: \n- As time passes, new dates become bookable  add to queue automatically\n\n### 2. Append-Only Price Observations\n- Never delete historical observations\n- Each search adds observations, updates best price if lower\n- Reuse  pattern with \n\n### 3. Priority-Based Sampling (Rate-Limit Friendly)\n- 70% budget: Recheck current top K cheapest (validate deals still exist)\n- 30% budget: Explore new date buckets for coverage\n- Stratify bookable window by month, ensure at least 1 itinerary/bucket\n\n### 4. Rolling Horizon Candidate Generation\n- Each scheduler run: \n- Add new itinerary rows for dates that just became bookable\n- Stop scheduling itineraries whose departure has passed\n\n### 5. \"Best Ever Still Valid\" Materialized View\n- Derive from observations: \n- Order by , take top N per destination\n- Refresh after each run\n\n## Acceptance Criteria\n- [ ]  table created with proper schema\n- [ ] Itineraries auto-generated as dates become bookable\n- [ ] Price observations stored append-only\n- [ ] Priority sampling: recheck best deals + explore new dates\n- [ ] Expired itineraries cleaned up (departure passed)\n- [ ] UI shows \"best ever\" prices with freshness indicator\n- [ ] Cap itineraries per plan to avoid explosion\n\n## Effort\nMedium (1-2 days)\n\n## References\n- Oracle consultation on rolling-horizon monitoring\n- Current workaround: accumulate matches instead of replacing","status":"open","priority":2,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T11:03:09.262358516+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T11:03:09.262358516+13:00","labels":["enhancement"]}
{"id":"walkabout-wzm","title":"Redesign Trip Planner as unified flight agent","description":"## Problem\nCurrently Trip Planner has a split experience:\n- RSS deal matches shown in one section\n- Google Flights search is separate manual action\n- GF results aren't persisted - shown temporarily then lost\n- No scheduled GF searches for Trip Plans\n\n## User Vision\nTrip Plan acts as an \"agent\" that:\n1. Monitors ALL sources (Google Flights + any configured APIs + RSS)\n2. Persists the BEST 3 matches from any source\n3. Runs on schedule (based on check_frequency_hours)\n4. Shows consolidated \"Best Matches\" prominently\n5. User can check daily, eventually book when perfect match appears\n\n## Solution\n1. Create TripPlanMatch model to persist matches from any source\n2. Add scheduled job for Trip Plan GF searches\n3. Modify TripPlanSearchService to persist top matches\n4. Update UI to show unified \"Best Matches\" section\n5. Remove separate RSS vs GF paradigm\n\n## Acceptance Criteria\n- [ ] Trip Plans search Google Flights on schedule\n- [ ] Best 3-5 matches persisted per Trip Plan\n- [ ] UI shows unified matches from all sources\n- [ ] Each match has: source, price, dates, destination, booking link\n- [ ] Matches update automatically based on check_frequency_hours","status":"closed","priority":1,"issue_type":"task","owner":"jed@theansible.net","created_at":"2026-01-23T10:28:04.047659602+13:00","created_by":"Jed Esposito","updated_at":"2026-01-23T10:48:28.627939611+13:00","closed_at":"2026-01-23T10:48:28.627939611+13:00","close_reason":"Closed","labels":["feature"]}
